<p-toast></p-toast>
<div class="grid">
    <div class="col-12">
        <div class="card shadow-6 border-round-xl bg-gradient-primary">
            <div class="p-4">
                <div class="flex flex-column lg:flex-row justify-content-between align-items-start lg:align-items-center gap-3">
                    <div>
                        <h3 class="text-white mb-2 font-bold">ðŸ‘¤ Individual Profile Details</h3>
                        <p class="text-cyan-200 mb-0">Application ID: <span class="font-semibold text-white">{{requestId}}</span></p>
                        <p class="text-cyan-200 mb-0">Request Type: <span class="font-semibold text-white">{{requestType}}</span></p>
                    </div>
                    <div class="flex flex-column sm:flex-row gap-2 align-items-start sm:align-items-center">
                        <div class="flex gap-2">
                            <p-button label="Approve" icon="pi pi-check-circle" class="p-button-success p-button-lg shadow-4" (click)="approveIndividual()"></p-button>
                            <p-button label="Revise" icon="pi pi-pencil" class="p-button-warning p-button-lg shadow-4" (click)="reviseIndividual()"></p-button>
                            <p-button label="Reject" icon="pi pi-times-circle" class="p-button-danger p-button-lg shadow-4" (click)="rejectIndividual()"></p-button>
                        </div>
                        <div class="bg-white-alpha-20 border-round-lg px-3 py-2 mt-2 sm:mt-0">
                            <div class="flex align-items-center gap-2">
                                <i class="pi pi-clock text-yellow-300"></i>
                                <span class="text-white font-medium">Status:</span>
                                <span class="status-badge status-pending text-sm font-semibold">Pending Verification</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card border-round-xl shadow-4 bg-white">
            <div class="text-center py-5 px-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px 12px 0 0;">
                <div class="relative inline-block">
                    <img src="assets/demo/images/avatar/amyelsner.png" alt="Individual Profile"
                         class="border-circle shadow-6 border-4 border-white"
                         style="width: 120px; height: 120px;" />
                    <div class="absolute bottom-0 right-0 bg-green-500 border-circle border-3 border-white flex align-items-center justify-content-center shadow-4"
                         style="width: 32px; height: 32px;">
                        <i class="pi pi-check text-white text-sm"></i>
                    </div>
                </div>
                <h2 class="text-white mt-3 mb-2 font-bold text-2xl">John Doe</h2>
                <div class="flex justify-content-center gap-2 mb-3">
                    <span class="badge-verified px-3 py-1 border-round-pill text-sm font-semibold">âœ“ Verified</span>
                    <span class="badge-verified px-3 py-1 border-round-pill text-sm font-semibold">âœ“ Profile Complete</span>
                </div>
                <p class="text-cyan-100 mb-0 font-medium">Individual Profile Application</p>
            </div>
        </div>
    </div>

    <div class="col-12">
        <div class="card border-round-xl shadow-4">
            <p-tabView styleClass="tabview-beautiful">
                <!-- Basic Information Tab -->
                <p-tabPanel header="ðŸ“‹ Personal Information">
                    <div class="grid">
                        <div class="col-12 lg:col-6">
                            <div class="bg-blue-50 border-round-lg p-4 mb-4 border-1 border-blue-200">
                                <h5 class="text-blue-700 mb-3 flex align-items-center gap-2">
                                    <i class="pi pi-user text-blue-600"></i>
                                    Personal Details
                                </h5>
                                <div class="space-y-3">
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Full Name:</span>
                                        <span class="text-900">John Doe</span>
                                    </div>
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Date of Birth:</span>
                                        <span class="text-900">1990-01-15</span>
                                    </div>
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Gender:</span>
                                        <span class="text-900">Male</span>
                                    </div>
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Marital Status:</span>
                                        <span class="text-900">Single</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 lg:col-6">
                            <div class="bg-green-50 border-round-lg p-4 mb-4 border-1 border-green-200">
                                <h5 class="text-green-700 mb-3 flex align-items-center gap-2">
                                    <i class="pi pi-phone text-green-600"></i>
                                    Contact Information
                                </h5>
                                <div class="space-y-3">
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Phone:</span>
                                        <span class="text-900">+91-9876543210</span>
                                    </div>
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Email:</span>
                                        <span class="text-900">john.doe@example.com</span>
                                    </div>
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Address:</span>
                                        <span class="text-900">Delhi, India</span>
                                    </div>
                                    <div class="flex justify-content-between">
                                        <span class="font-medium text-700">Occupation:</span>
                                        <span class="text-900">Software Engineer</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabPanel>

                <!-- Preferences Tab -->
                <p-tabPanel header="ðŸ’• Partner Preferences">
                    <div class="grid">
                        <div class="col-12">
                            <div class="bg-pink-50 border-round-lg p-4 mb-4 border-1 border-pink-200">
                                <h5 class="text-pink-700 mb-3 flex align-items-center gap-2">
                                    <i class="pi pi-heart text-pink-600"></i>
                                    Preferences
                                </h5>
                                <div class="grid">
                                    <div class="col-12 md:col-6">
                                        <div class="space-y-3">
                                            <div class="flex justify-content-between">
                                                <span class="font-medium text-700">Age Range:</span>
                                                <span class="text-900">25-35 years</span>
                                            </div>
                                            <div class="flex justify-content-between">
                                                <span class="font-medium text-700">Height:</span>
                                                <span class="text-900">5'6" - 6'0"</span>
                                            </div>
                                            <div class="flex justify-content-between">
                                                <span class="font-medium text-700">Education:</span>
                                                <span class="text-900">Bachelor's or higher</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 md:col-6">
                                        <div class="space-y-3">
                                            <div class="flex justify-content-between">
                                                <span class="font-medium text-700">Religion:</span>
                                                <span class="text-900">Hindu</span>
                                            </div>
                                            <div class="flex justify-content-between">
                                                <span class="font-medium text-700">Caste:</span>
                                                <span class="text-900">Open to all</span>
                                            </div>
                                            <div class="flex justify-content-between">
                                                <span class="font-medium text-700">Location:</span>
                                                <span class="text-900">Delhi NCR</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabPanel>

                <!-- Documents Tab -->
                <p-tabPanel header="ðŸ“„ Documents">
                    <div class="grid">
                        <div class="col-12">
                            <div class="bg-light border-round-lg p-4 mb-4">
                                <h5 class="text-800 mb-4 flex align-items-center gap-2">
                                    <i class="pi pi-file-pdf text-red-500"></i>
                                    Submitted Documents
                                </h5>
                                <div class="grid">
                                    <div class="col-12 md:col-6 lg:col-4" *ngFor="let doc of documents">
                                        <div class="document-card bg-white border-round-lg p-3 shadow-2 hover:shadow-4 cursor-pointer transition-all transition-duration-300 border-1 border-200">
                                            <div class="flex align-items-center gap-3 mb-3">
                                                <div class="document-icon bg-blue-100 border-round-lg p-2">
                                                    <i class="pi pi-file-pdf text-blue-600 text-lg"></i>
                                                </div>
                                                <div class="flex-1">
                                                    <h6 class="text-900 mb-1 font-semibold text-sm">{{doc.name}}</h6>
                                                    <p class="text-600 mb-0 text-xs">{{doc.status}}</p>
                                                </div>
                                            </div>
                                            <div class="flex justify-content-between align-items-center mb-2">
                                                <small class="text-600">Uploaded: {{doc.date}}</small>
                                            </div>
                                            <div class="flex gap-1">
                                                <p-button icon="pi pi-eye" label="View" class="p-button-text p-button-sm p-button-info" (click)="viewDocument(doc.name)"></p-button>
                                                <p-button icon="pi pi-download" label="Download" class="p-button-text p-button-sm p-button-success" (click)="downloadDocument(doc.name)"></p-button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabPanel>

                <!-- Chat with Individual Tab -->
                <p-tabPanel header="ðŸ’¬ Chat with Individual">
                    <div class="grid">
                        <div class="col-12">
                            <div class="chat-container bg-light border-round-lg p-4" style="height: 500px; overflow-y: auto;">
                                <div class="chat-messages" style="display: flex; flex-direction: column; gap: 1rem;">
                                    <!-- Chat messages -->
                                    <div class="message-wrapper" *ngFor="let message of chatMessages; let i = index">
                                        <div class="message" [ngClass]="{'sent': message.sender === 'admin', 'received': message.sender === 'individual'}">
                                            <div class="message-content">
                                                <div class="message-text">{{message.text}}</div>
                                                <div class="message-time">{{message.time}}</div>
                                            </div>
                                            <div class="message-avatar">
                                                <div class="avatar-circle" [ngClass]="{'admin-avatar': message.sender === 'admin', 'individual-avatar': message.sender === 'individual'}">
                                                    {{message.sender === 'admin' ? 'A' : 'I'}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Chat input -->
                            <div class="chat-input mt-3">
                                <div class="p-inputgroup">
                                    <input pInputText
                                           [(ngModel)]="newMessage"
                                           placeholder="Type your message here..."
                                           (keyup.enter)="sendMessage()"
                                           class="flex-1" />
                                    <button pButton
                                            type="button"
                                            icon="pi pi-send"
                                            class="p-button-primary"
                                            (click)="sendMessage()"
                                            [disabled]="!newMessage?.trim()">
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </p-tabPanel>
            </p-tabView>
        </div>
    </div>
</div>
